<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–£—Å—ã–Ω–æ–≤–∏—Ç–µ–ª–∏</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="mb-4">
        <a href="/" class="btn btn-secondary">üè† –ì–ª–∞–≤–Ω–∞—è</a>
        <span class="mx-2">|</span>
        <a href="/animals" class="btn btn-outline-primary">üê∂ –ñ–∏–≤–æ—Ç–Ω—ã–µ</a>
        <a href="/adopters" class="btn btn-primary">üë• –£—Å—ã–Ω–æ–≤–∏—Ç–µ–ª–∏</a>
        <a href="/procedures" class="btn btn-outline-primary">üè• –ü—Ä–æ—Ü–µ–¥—É—Ä—ã</a>
        <a href="/adoptions" class="btn btn-outline-primary">üè† –£—Å—ã–Ω–æ–≤–ª–µ–Ω–∏—è</a>
    </nav>

    <h1>üë• –£—Å—ã–Ω–æ–≤–∏—Ç–µ–ª–∏</h1>

    <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
    <div class="card mb-4">
        <div class="card-header bg-success text-white">
            <h5>–î–æ–±–∞–≤–∏—Ç—å —É—Å—ã–Ω–æ–≤–∏—Ç–µ–ª—è</h5>
        </div>
        <div class="card-body">
            <form th:action="@{/adopters/add}" th:object="${adopter}" method="post">
                <div class="row g-3">
                    <div class="col-md-4">
                        <label class="form-label">–ü–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ *</label>
                        <input type="text" th:field="*{passportData}"
                               class="form-control"
                               placeholder="4500 123456"
                               pattern="[0-9\s]{10,12}"
                               title="4 —Ü–∏—Ñ—Ä—ã, –ø—Ä–æ–±–µ–ª, 6 —Ü–∏—Ñ—Ä"
                               required>
                        <small class="text-muted">–§–æ—Ä–º–∞—Ç: 4500 123456</small>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label">–§–∞–º–∏–ª–∏—è *</label>
                        <input type="text" th:field="*{lastName}"
                               class="form-control"
                               placeholder="–ò–≤–∞–Ω–æ–≤"
                               pattern="[–ê-–Ø–Å–∞-—è—ë\s\-]{2,50}"
                               title="–¢–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã, 2-50 —Å–∏–º–≤–æ–ª–æ–≤"
                               required>
                        <small class="text-muted">–¢–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã</small>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label">–ò–º—è *</label>
                        <input type="text" th:field="*{firstName}"
                               class="form-control"
                               placeholder="–ò–≤–∞–Ω"
                               pattern="[–ê-–Ø–Å–∞-—è—ë\s\-]{2,50}"
                               title="–¢–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã, 2-50 —Å–∏–º–≤–æ–ª–æ–≤"
                               required>
                        <small class="text-muted">–¢–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã</small>
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">–û—Ç—á–µ—Å—Ç–≤–æ</label>
                        <input type="text" th:field="*{patronymic}"
                               class="form-control"
                               placeholder="–ò–≤–∞–Ω–æ–≤–∏—á"
                               pattern="[–ê-–Ø–Å–∞-—è—ë\s\-]{0,50}"
                               title="–¢–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã, –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤">
                        <small class="text-muted">–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ</small>
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" th:field="*{contactData}"
                               class="form-control"
                               placeholder="89991234567"
                               pattern="^(\+7|8)?[0-9]{10}$"
                               title="–§–æ—Ä–º–∞—Ç: +79991234567 –∏–ª–∏ 89991234567 (11 —Ü–∏—Ñ—Ä)">
                        <small class="text-muted">–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. 11 —Ü–∏—Ñ—Ä, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å +7 –∏–ª–∏ 8</small>
                    </div>

                    <div class="col-12">
                        <button type="submit" class="btn btn-success">–î–æ–±–∞–≤–∏—Ç—å —É—Å—ã–Ω–æ–≤–∏—Ç–µ–ª—è</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- –¢–∞–±–ª–∏—Ü–∞ —É—Å—ã–Ω–æ–≤–∏—Ç–µ–ª–µ–π -->
    <div class="card">
        <div class="card-header">
            <h5>–°–ø–∏—Å–æ–∫ —É—Å—ã–Ω–æ–≤–∏—Ç–µ–ª–µ–π</h5>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-striped table-hover">
                    <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>–§–ò–û</th>
                        <th>–ü–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</th>
                        <th>–ö–æ–Ω—Ç–∞–∫—Ç—ã</th>
                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="adopter : ${adopters}">
                        <td th:text="${adopter.id}"></td>
                        <td>
                            <strong th:text="${adopter.lastName} + ' ' + ${adopter.firstName}"></strong>
                            <span th:if="${adopter.patronymic}" th:text="' ' + ${adopter.patronymic}"></span>
                        </td>
                        <td th:text="${adopter.passportData}"></td>
                        <td th:text="${adopter.contactData} ?: '‚Äî'"></td>
                        <td>
                            <a th:href="@{/adopters/edit/{id}(id=${adopter.id})}"
                               class="btn btn-warning btn-sm">‚úèÔ∏è</a>
                            <a th:href="@{/adopters/delete/{id}(id=${adopter.id})}"
                               class="btn btn-danger btn-sm"
                               onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —É—Å—ã–Ω–æ–≤–∏—Ç–µ–ª—è?')">üóëÔ∏è</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="mt-3">
                <div class="alert alert-info">
                    <strong>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</strong>
                    –í—Å–µ–≥–æ —É—Å—ã–Ω–æ–≤–∏—Ç–µ–ª–µ–π: <span th:text="${adopters.size()}"></span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>